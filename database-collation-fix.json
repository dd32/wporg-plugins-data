{
    "name": "Database Collation Fix",
    "slug": "database-collation-fix",
    "version": "1.2.10",
    "author": "<a href=\"http:\/\/davejesch.com\">Dave Jesch<\/a>",
    "author_profile": "https:\/\/profiles.wordpress.org\/davejesch\/",
    "contributors": {
        "spectromtech": {
            "profile": "https:\/\/profiles.wordpress.org\/spectromtech\/",
            "avatar": "https:\/\/secure.gravatar.com\/avatar\/f401a8fa88c08811ff8cde6502e9224c?s=96&d=monsterid&r=g",
            "display_name": "SpectrOMTech"
        },
        "davejesch": {
            "profile": "https:\/\/profiles.wordpress.org\/davejesch\/",
            "avatar": "https:\/\/secure.gravatar.com\/avatar\/6eee2753fc1351cfefbe5787c8cb1099?s=96&d=monsterid&r=g",
            "display_name": "Dave Jesch"
        }
    },
    "requires": "4.6",
    "tested": "6.4.4",
    "requires_php": "5.3.1",
    "requires_plugins": [],
    "compatibility": [],
    "rating": 100,
    "ratings": {
        "5": 18,
        "4": 0,
        "3": 0,
        "2": 0,
        "1": 0
    },
    "num_ratings": 18,
    "support_url": "https:\/\/wordpress.org\/support\/plugin\/database-collation-fix\/",
    "support_threads": 0,
    "support_threads_resolved": 0,
    "active_installs": 1000,
    "downloaded": 19398,
    "last_updated": "2024-01-17 7:35am GMT",
    "added": "2017-04-22",
    "homepage": "",
    "sections": {
        "description": "<p>Since version 4.2, WordPress has been detecting the MySQL version and if it&#8217;s version 5.5.3 or greater, automatically selecting the &#8216;utf8mb4_unicode_520_ci&#8217; Collation Algorithm. This works well until you need to migrate your database to an older version of MySQL that does not support the utf8mb4 algorithms. Then, you run into the error message: &#8220;#1273 &#8211; Unknown collation: &#8216;utf8mb4_unicode_520_ci'&#8221; when importing your database.<\/p>\n<p>With the WordPress 5.7 update and WooCommerce 5.1, some users are reporting an error: &#8220;SQLSTATE[HY000]: General error: 1267 Illegal mix of collations (utf8mb4_unicode_520_ci,IMPLICIT) and (utf8mb4_unicode_ci,IMPLICIT)&#8221;. The Database Collation Fix tool also fixes this issue by changing the collation of all columns in your database to use the same algorithm, removing the &#8220;mix&#8221; of collations.<\/p>\n<p><strong>Usage Scenarios:<\/strong><\/p>\n<p>While the plugin will work in any WordPress install: local, staging or live, it is specially designed to work with DesktopServer. Its process will be triggered and change the collation types on all database tables during any DesktopServer Create Site, Copy Site, Move Site, Import and Export operations. This allows you to import and export sites in the most compatible ways during deployments. If you would like to use this with DesktopServer as a Design Time plugin, you can install this in your \/xampplite\/ds-plugins\/ directory and it can then be automatically activated and used with all of your local development web sites.<\/p>\n<p>Alternatively, you can install this as a regular WordPress plugin on any site. Once activated, all of your database tables will be updated to use the more portable Collation Algorithm. If you are migrating your web site, you can install and activate the plugin then perform your database export. Once you have migrated your site, you can deactivate and remove the plugin as it would be no longer needed. If you will be exporting and\/or migrating your site repeatedly, such as when using it on a test or staging install, you can leave the plugin active indefinitely and it will continue to monitor and update your database tables automatically, allowing you to perform migrations at any time. This is ideal in situations where you are installing or testing plugins that may create their own database tables, as these tables may be created with the newer Collation Algorithms that are not as portable.<\/p>\n<p><strong>How it Works:<\/strong><\/p>\n<p>The <em>Database Collation Fix<\/em> tool converts database tables using &#8216;utf8mb4_unicode_520_ci&#8217; or &#8216;utf8_unicode_520_ci&#8217; Collation Algorithms to a more portable &#8216;utf8mb4_unicode_ci&#8217; collation on a once daily basis. It also modifies any column-specific collation statements, not just the default table collation. This means that you can install this plugin and it will continue to monitor all of your database tables and convert them to the more portable Collation Algorithm automatically.<\/p>\n<p>This tool will convert your database tables and columns to use the &#8216;utf8mb4_unicode_ci&#8217; Collation Algorithm. This can be modified to any other Collation Algorithm you wish by updating your <code>wp-config.php<\/code> file and adding or changing the following setting:<\/p>\n<blockquote>\n<p><code>define('DB_COLLATE', 'utf8_general_ci');<\/code><\/p>\n<\/blockquote>\n<p>You can use &#8216;utf8_general_ci&#8217; or &#8216;utf8&#8217; or any other Collation Algorithm supported by your database. See <a href=\"https:\/\/dev.mysql.com\/doc\/refman\/5.7\/en\/charset-mysql.html\" rel=\"nofollow ugc\">https:\/\/dev.mysql.com\/doc\/refman\/5.7\/en\/charset-mysql.html<\/a> for a full description of MySQL&#8217;s Character Set and Collation Algorithm selections.<\/p>\n<p><strong>Support:<\/strong><\/p>\n<blockquote>\n<p><strong>Support Details:<\/strong> We are happy to provide support and help troubleshoot issues. Visit our Contact page at <a href=\"http:\/\/davejesch.com\/contact\/\" rel=\"nofollow ugc\">http:\/\/davejesch.com\/contact\/<\/a> or submit a support request on the WordPress plugin page.<\/p>\n<\/blockquote>\n<p>We are not responsible for any loss of data that may occur as a result of using this tool. We strongly recommend performing a site and database backup before testing and using this tool. However, should you experience such an issue, we want to know about it right away.<\/p>\n",
        "installation": "<p>Installation instructions: To install, do the following:<\/p>\n<ol>\n<li>From the dashboard of your site, navigate to Plugins &#8211;&gt; Add New.<\/li>\n<li>Select the &#8220;Upload Plugin&#8221; button.<\/li>\n<li>Click on the &#8220;Choose File&#8221; button to upload your file.<\/li>\n<li>When the Open dialog appears select the databasecollationfix.zip file from your desktop.<\/li>\n<li>Follow the on-screen instructions and wait until the upload is complete.<\/li>\n<li>When finished, activate the plugin via the prompt. A confirmation message will be displayed.<\/li>\n<\/ol>\n<p>or, you can upload the files directly to your server.<\/p>\n<ol>\n<li>Upload all of the files in <code>databasecollationfix.zip<\/code> to your  <code>\/wp-content\/plugins\/databasecollationfix<\/code> directory.<\/li>\n<li>Activate the plugin through the &#8216;Plugins&#8217; menu in WordPress.<\/li>\n<\/ol>\n",
        "faq": "\n<dt id='is%20this%20safe%3F'>\nIs this safe?\n<\/h4>\n<p>\n<p>Yes. The Database Collation Fix tool does not change any data. It only changes the Collation Algorithm that specified for your database columns and indexes.<\/p>\n<\/p>\n<dt id='do%20i%20need%20to%20backup%20my%20data%20before%20using%20this%3F'>\nDo I need to backup my data before using this?\n<\/h4>\n<p>\n<p>Yes. Always backup your site before making database changes. The Database Collation Fix tool is unlikely to cause any problems but there is still a small chance that something else (like the version of MySQL\/MariaDB that you&#8217;re using) can have a compatibility issue.<\/p>\n<\/p>\n<dt id='once%20my%20tables%20are%20fixed%2C%20do%20i%20still%20need%20to%20use%20this%20tool%3F'>\nOnce my tables are fixed, do I still need to use this tool?\n<\/h4>\n<p>\n<p>No. The Database Collation Fix tool changes the database. It only needs to do this once. However, future versions of WordPress or one or more of your plugins can also make database changes. These future changes may require updates to keep your Collation Algorithms updated. If you leave the Database Collation Fix tool active, it will scan your database once per day and look for any tables that need to be adjusted, fixing them automatically.<\/p>\n<\/p>\n\n",
        "changelog": "<h4>1.2.10 &#8211; Jan 16, 2024<\/h4>\n<p>Fix bug: default clause on column not preserved. Thanks drylek.<\/p>\n<h4>1.2.9 &#8211; May 6, 2023<\/h4>\n<p>Update text domain to match plugin slug.<\/p>\n<h4>1.2.8 &#8211; Apr 24, 2023<\/h4>\n<p>Fix CSRF vulnerability.<\/p>\n<h4>1.2.7 &#8211; Apr 1, 2021<\/h4>\n<p>Add request method check; update readme.txt contents.<\/p>\n<h4>1.2.6 &#8211; Aug 2, 2018<\/h4>\n<p>Add handling for FULLTEXT indexes.<\/p>\n<h4>1.2.5 &#8211; May 11, 2018<\/h4>\n<p>Add handling for &#8216;enum&#8217; column type when looking for things to update.<\/p>\n<h4>1.2.4 &#8211; Jul 26, 2017<\/h4>\n<p>Add feature to allow user to select Collation Algorithm for on demand updates.<\/p>\n<h4>1.2.2 &#8211; Jul 12 2017<\/h4>\n<p>Fix error display by not scheduling cron during WP install.<\/p>\n<h4>1.2 &#8211; Feb 24, 2017<\/h4>\n<p>Initial release to WordPress repository.<\/p>\n<h4>1.1 &#8211; Dec 13, 2016<\/h4>\n<ul>\n<li>check for non-empty DB_COLLATION specification.<\/li>\n<\/ul>\n<h4>1.0 &#8211; Oct 14, 2016<\/h4>\n<ul>\n<li>Initial Release<\/li>\n<\/ul>\n",
        "reviews": "<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Thank You<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/justsmilepeople\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/ba9e465debeae74c2754c91effd61736?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/ba9e465debeae74c2754c91effd61736?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/justsmilepeople\/\" class=\"reviewer-name\">Alex \u516d\u5341 Karpov <small>(justsmilepeople)<\/small><\/a> on <span class=\"review-date\">February 21, 2024<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\"><!-- wp:paragraph -->\n<p class=\"\">As simple as should! <\/p>\n<!-- \/wp:paragraph --><\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Saved lives...<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/kobzeci2\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/bbd2a2b3fcb8ba60fb5d91f601fe33df?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/bbd2a2b3fcb8ba60fb5d91f601fe33df?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/kobzeci2\/\" class=\"reviewer-name\">kobzeci2<\/a> on <span class=\"review-date\">December 5, 2022<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">Fixed my old wp installations db... Thank you. <\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Does a great job doing what it does!<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/splaquet\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/936590143cbdb89a5769626e2acdef17?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/936590143cbdb89a5769626e2acdef17?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/splaquet\/\" class=\"reviewer-name\">splaquet<\/a> on <span class=\"review-date\">September 21, 2022<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">Fixed up so many odd and random issues.  Hard to believe that DB collation could be\/was related to some of the oddball issues I was having... but I was certainly surprised &amp; thrilled to see things working properly again!<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Great Fix!<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/ribeiroeder\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/707c37774849440400810360a4e7d07e?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/707c37774849440400810360a4e7d07e?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/ribeiroeder\/\" class=\"reviewer-name\">Eder Ribeiro <small>(ribeiroeder)<\/small><\/a> on <span class=\"review-date\">June 4, 2021<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">Simple and fast, thanks<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Worked for me<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/macksix\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/6fe27f462277d11b8f1893230fb27ba4?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/6fe27f462277d11b8f1893230fb27ba4?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/macksix\/\" class=\"reviewer-name\">macksix<\/a> on <span class=\"review-date\">May 2, 2021<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">I had \"WordPress database error Illegal mix of collations (utf8_general_ci,IMPLICIT) and (utf8mb4_unicode_ci,COERCIBLE)\" and this plugin fixed it.\n\nThanks!<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Fixed it automatically WP 5.7<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/zero67\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/847e1bc736821f052aec646e9a6fd5b1?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/847e1bc736821f052aec646e9a6fd5b1?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/zero67\/\" class=\"reviewer-name\">zero67<\/a> on <span class=\"review-date\">April 4, 2021<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">Query error: Illegal mix of collations automatically FIXED!!! Thanks a lot for your work!<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">\u03b5\u03ba\u03b1\u03bd\u03b5 \u03c4\u03b1 \u03b8\u03b1\u03c5\u03bc\u03b1 \u03c4\u03bf\u03c5!!<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/grigorioy\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/9b73e6f58f64e64b126a0bc2a63a2f86?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/9b73e6f58f64e64b126a0bc2a63a2f86?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/grigorioy\/\" class=\"reviewer-name\">grigorioy<\/a> on <span class=\"review-date\">April 1, 2021<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">\u03c4\u03b5\u03bb\u03b5\u03b9\u03bf<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">many thanks, lifesaver!<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/stevejharris\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/0eb14eea9ce8019056fe44b1acc6f74d?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/0eb14eea9ce8019056fe44b1acc6f74d?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/stevejharris\/\" class=\"reviewer-name\">stevejharris<\/a> on <span class=\"review-date\">April 1, 2021<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">saw this error - SQLSTATE[HY000]: General error: 1267 Illegal mix of collations (utf8mb4_unicode_520_ci,IMPLICIT) and (utf8mb4_unicode_ci,IMPLICIT) for operation '=' - on 3x WordPress Woocommerce sites.\nMy support (SiteGround) suggested changing the collation using PHPMyAdmin.\nthis seemed like a recipe for disaster.\nfound this plugin, not updated for 3 years, but saw 4 5* reviews in the last 24 hours, so I knew it was OK to try.\nUploaded, installed, activated - problem solved.\nremember, it's WordPress, There's ALWAYS a plugin!\nthe plugin was even updated between me downloading and installing! glad to see it's up to date. that always helps when trying plugins.\nmany thanks, lifesaver<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">perfect!!<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/edtack\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/9864abc28f2c25f799a90ad36b871fb1?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/9864abc28f2c25f799a90ad36b871fb1?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/edtack\/\" class=\"reviewer-name\">edtack<\/a> on <span class=\"review-date\">April 1, 2021<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">Same problem here\nSQLSTATE[HY000]: General error: 1267 Illegal mix of collations (utf8mb4_unicode_520_ci,IMPLICIT) and (utf8mb4_unicode_ci,IMPLICIT)\nInstalled this plugin, activate, solved!\nYou saved my day!!\nThanks<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Wow--fixed it automatically<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/chanimal\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/3b2e87e95a8575d3366c0e6af7add3b6?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/3b2e87e95a8575d3366c0e6af7add3b6?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/chanimal\/\" class=\"reviewer-name\">chanimal<\/a> on <span class=\"review-date\">April 1, 2021<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">I had a $1,000 order that would not process. Spent several hours trying to find the fix to the SQLSTATE 1267.\n\nApparently, this happened with an update to WooCommerce 5.1 and WordPress 5.7 on 3\/29. It is 4\/1 and I just discovered it.\n\nI installed it and it automatically fixed all the corresponding databases. It says it reverts to a slightly older version, but it is more compatible--it was. It then runs as a cron job to check your site periodically to ensure any update won't change it back and break it again, or you can manually update it (I tried, but it had already run in the background and fixed everything). \n\nTHANK YOU!<\/div>\n<\/div>\n"
    },
    "short_description": "Convert tables using utf8mb4_unicode_520_ci or utf8_unicode_520_ci collation to a more portable Collation Algorithm.",
    "description": "<p>Since version 4.2, WordPress has been detecting the MySQL version and if it&#8217;s version 5.5.3 or greater, automatically selecting the &#8216;utf8mb4_unicode_520_ci&#8217; Collation Algorithm. This works well until you need to migrate your database to an older version of MySQL that does not support the utf8mb4 algorithms. Then, you run into the error message: &#8220;#1273 &#8211; Unknown collation: &#8216;utf8mb4_unicode_520_ci'&#8221; when importing your database.<\/p>\n<p>With the WordPress 5.7 update and WooCommerce 5.1, some users are reporting an error: &#8220;SQLSTATE[HY000]: General error: 1267 Illegal mix of collations (utf8mb4_unicode_520_ci,IMPLICIT) and (utf8mb4_unicode_ci,IMPLICIT)&#8221;. The Database Collation Fix tool also fixes this issue by changing the collation of all columns in your database to use the same algorithm, removing the &#8220;mix&#8221; of collations.<\/p>\n<p><strong>Usage Scenarios:<\/strong><\/p>\n<p>While the plugin will work in any WordPress install: local, staging or live, it is specially designed to work with DesktopServer. Its process will be triggered and change the collation types on all database tables during any DesktopServer Create Site, Copy Site, Move Site, Import and Export operations. This allows you to import and export sites in the most compatible ways during deployments. If you would like to use this with DesktopServer as a Design Time plugin, you can install this in your \/xampplite\/ds-plugins\/ directory and it can then be automatically activated and used with all of your local development web sites.<\/p>\n<p>Alternatively, you can install this as a regular WordPress plugin on any site. Once activated, all of your database tables will be updated to use the more portable Collation Algorithm. If you are migrating your web site, you can install and activate the plugin then perform your database export. Once you have migrated your site, you can deactivate and remove the plugin as it would be no longer needed. If you will be exporting and\/or migrating your site repeatedly, such as when using it on a test or staging install, you can leave the plugin active indefinitely and it will continue to monitor and update your database tables automatically, allowing you to perform migrations at any time. This is ideal in situations where you are installing or testing plugins that may create their own database tables, as these tables may be created with the newer Collation Algorithms that are not as portable.<\/p>\n<p><strong>How it Works:<\/strong><\/p>\n<p>The <em>Database Collation Fix<\/em> tool converts database tables using &#8216;utf8mb4_unicode_520_ci&#8217; or &#8216;utf8_unicode_520_ci&#8217; Collation Algorithms to a more portable &#8216;utf8mb4_unicode_ci&#8217; collation on a once daily basis. It also modifies any column-specific collation statements, not just the default table collation. This means that you can install this plugin and it will continue to monitor all of your database tables and convert them to the more portable Collation Algorithm automatically.<\/p>\n<p>This tool will convert your database tables and columns to use the &#8216;utf8mb4_unicode_ci&#8217; Collation Algorithm. This can be modified to any other Collation Algorithm you wish by updating your <code>wp-config.php<\/code> file and adding or changing the following setting:<\/p>\n<blockquote>\n<p><code>define('DB_COLLATE', 'utf8_general_ci');<\/code><\/p>\n<\/blockquote>\n<p>You can use &#8216;utf8_general_ci&#8217; or &#8216;utf8&#8217; or any other Collation Algorithm supported by your database. See <a href=\"https:\/\/dev.mysql.com\/doc\/refman\/5.7\/en\/charset-mysql.html\" rel=\"nofollow ugc\">https:\/\/dev.mysql.com\/doc\/refman\/5.7\/en\/charset-mysql.html<\/a> for a full description of MySQL&#8217;s Character Set and Collation Algorithm selections.<\/p>\n<p><strong>Support:<\/strong><\/p>\n<blockquote>\n<p><strong>Support Details:<\/strong> We are happy to provide support and help troubleshoot issues. Visit our Contact page at <a href=\"http:\/\/davejesch.com\/contact\/\" rel=\"nofollow ugc\">http:\/\/davejesch.com\/contact\/<\/a> or submit a support request on the WordPress plugin page.<\/p>\n<\/blockquote>\n<p>We are not responsible for any loss of data that may occur as a result of using this tool. We strongly recommend performing a site and database backup before testing and using this tool. However, should you experience such an issue, we want to know about it right away.<\/p>\n",
    "download_link": "https:\/\/downloads.wordpress.org\/plugin\/database-collation-fix.zip",
    "upgrade_notice": {
        "1.2": "<p>First release.<\/p>"
    },
    "screenshots": [],
    "tags": {
        "collation-algorithm": "collation algorithm",
        "database": "database",
        "export": "export",
        "migration": "migration",
        "utf8mb4_unicode_520_ci": "utf8mb4_unicode_520_ci"
    },
    "stable_tag": "trunk",
    "versions": {
        "1.2": "https:\/\/downloads.wordpress.org\/plugin\/database-collation-fix.1.2.zip",
        "1.2.7": "https:\/\/downloads.wordpress.org\/plugin\/database-collation-fix.1.2.7.zip",
        "1.2.8": "https:\/\/downloads.wordpress.org\/plugin\/database-collation-fix.1.2.8.zip",
        "1.2.9": "https:\/\/downloads.wordpress.org\/plugin\/database-collation-fix.1.2.9.zip"
    },
    "business_model": false,
    "repository_url": "",
    "commercial_support_url": "",
    "donate_link": "https:\/\/davejesch.com",
    "banners": [],
    "icons": {
        "default": "https:\/\/s.w.org\/plugins\/geopattern-icon\/database-collation-fix.svg"
    },
    "blocks": [],
    "block_assets": [],
    "author_block_count": 0,
    "author_block_rating": 100,
    "blueprints": [],
    "preview_link": "",
    "language_packs": [
        {
            "type": "plugin",
            "slug": "database-collation-fix",
            "language": "zh_TW",
            "version": "1.2.10",
            "updated": "2024-01-17 22:34:30",
            "package": "https:\/\/downloads.wordpress.org\/translation\/plugin\/database-collation-fix\/1.2.10\/zh_TW.zip"
        }
    ]
}